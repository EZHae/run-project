<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
  <mapper namespace="com.itwill.running.repository.TeamDao">
  <!-- TODO 팀삭제, 팀수정, 팀검색(이름,공원타입 등), 내게맞는공고찾기(성별,연령대에맞는) -->
  	<select id="selectAll" resultType="Team">
  		  select t.*, u.nickname as nickname from teams t left join users u on t.user_id=u.user_id order by team_id desc
  	</select>
  	
  	<select id="selectByTeamId" resultType="Team">
  		select t.*,u.nickname as nickname from teams t left join users u on t.user_id=u.user_id where team_id=#{teamId}
  	</select>
  	
  	<!-- 닉네임추가하기 -->
  	<select id="selectClosedTeams" resultType="Team">
  		select * from teams where max_num=current_num order by team_id desc
  	</select>
  	<select id="selectOpenTeams" resultType="Team">
  		select * from teams where current_num != max_num order by team_id desc
  	</select>
  	
  	
  	
  	
  </mapper>