<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
<mapper namespace="com.itwill.running.repository.TCommentDao">
	
	<insert id="insertTComment" parameterType="TComment" useGeneratedKeys="true" keyColumn="ID" keyProperty="id">
		insert into t_comments (team_id, post_id, ctext, user_id, nickname, created_time, modified_time, parent_id, comment_type)
			value (#{teamId}, #{postId}, #{ctext}, #{userId}, #{nickname}, systimestamp, systimestamp, #{parentId}, #{commentType})
	</insert>
	
	<select id="selectTCommentByPostId" resultType="TComment">
		select * from t_comments
			where post_id = #{postId}
			order by id
	</select>
	
	<delete id="deleteTCommentById">
		delete from t_comments 
			where id = #{id}
    </delete>
</mapper>