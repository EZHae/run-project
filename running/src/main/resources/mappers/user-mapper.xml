<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
  <mapper namespace="com.itwill.running.repository.UserDao">
  
  	<select id="selectByUserId" resultType="User">
  		select * from users where user_id = #{userId}
  	</select>
  
  
    <insert id="insertUser" parameterType="User" useGeneratedKeys="true">
        insert into users (user_id, password, nickname, username, gender, age, 
                           phonenumber, residence, email, auth_check, img_id, user_created_time, user_access_time)
                           
        values (#{userId}, #{password}, #{nickname}, #{username}, #{gender}, #{age},
                #{phonenumber}, #{residence}, #{email}, #{authCheck}, #{imgId}, systimestamp, systimestamp)
    
    </insert>
    
    <select id="selectByUserIdAndPassword" resultType="User">
        select * from users 
        where user_id = #{userId} and password = #{password}
    </select>
    
    <update id="updateByImgId">
        update users
        set img_id = #{imgId}
        where user_id = #{userId}
    </update>
  </mapper>