<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
  <mapper namespace="com.itwill.running.repository.UImagesDao">


    <insert id="insertUserImage" parameterType="com.itwill.running.domain.UImages" useGeneratedKeys="true" keyProperty="id">
        <selectKey keyProperty="id" resultType="int" order="AFTER">
            SELECT id FROM u_images WHERE user_id = #{userId} AND image_name = #{imageName}
        </selectKey>
        insert into u_images (user_id, image_name, image_path)
        values (#{userId}, #{imageName}, #{imagePath})
    </insert>
  
    <select id="selectUserImageByUserId" resultType="UImages">
        select * from u_images where user_id = #{userId}
    </select>
    
       <select id="selectUserImageById" resultType="UImages">
        select * from u_images where id = #{id}
    </select>
  
  </mapper>